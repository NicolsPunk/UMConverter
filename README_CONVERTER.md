# –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ WebP –∏ –≤–∏–¥–µ–æ –≤ WebM

–≠—Ç–æ—Ç Python —Å–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç WebP –∏ –≤–∏–¥–µ–æ –≤ —Ñ–æ—Ä–º–∞—Ç WebM –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–µ–±-—Å–∞–π—Ç–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
- **–í—Ö–æ–¥–Ω—ã–µ:** PNG, JPG, JPEG, BMP, TIFF
- **–í—ã—Ö–æ–¥–Ω—ã–µ:** WebP

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤–∏–¥–µ–æ:
- **–í—Ö–æ–¥–Ω—ã–µ:** MP4, AVI, MOV, MKV, WMV, FLV
- **–í—ã—Ö–æ–¥–Ω—ã–µ:** WebM

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. Python 3.7+
```bash
python --version
```

### 2. Pillow (–¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
```bash
pip install Pillow
```

### 3. FFmpeg (–¥–ª—è –≤–∏–¥–µ–æ)
–°–∫–∞—á–∞–π—Ç–µ —Å [https://ffmpeg.org/](https://ffmpeg.org/) –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ PATH

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:**
```bash
# –°–∫—Ä–∏–ø—Ç —É–∂–µ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FFmpeg:**
   - Windows: –°–∫–∞—á–∞–π—Ç–µ —Å https://ffmpeg.org/download.html
   - Linux: `sudo apt-get install ffmpeg`
   - macOS: `brew install ffmpeg`

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ
python convert_media.py "assets/images"

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–∏
python convert_media.py "assets/images" -o "assets/images/webp"

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
python convert_media.py "assets/images" -q 90
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```bash
python convert_media.py [–ü–ê–ü–ö–ê] [–û–ü–¶–ò–ò]

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
  –ü–ê–ü–ö–ê                    –ü–∞–ø–∫–∞ —Å –∏—Å—Ö–æ–¥–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
  -o, --output –ü–ê–ü–ö–ê       –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–∞ –∂–µ)
  -q, --quality –ß–ò–°–õ–û      –ö–∞—á–µ—Å—Ç–≤–æ WebP (1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 80)
  --images-only            –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  --videos-only            –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ
  -h, --help               –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
python convert_media.py "assets/images" --images-only

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ
python convert_media.py "assets/video" --videos-only

# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º
python convert_media.py "assets/images" -q 95

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É
python convert_media.py "assets/images" -o "assets/images/optimized"
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:

```
2024-01-15 10:30:15 - INFO - üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤...
2024-01-15 10:30:15 - INFO - Pillow –Ω–∞–π–¥–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
2024-01-15 10:30:15 - INFO - FFmpeg –Ω–∞–π–¥–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ
2024-01-15 10:30:15 - INFO - üì∏ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...
2024-01-15 10:30:15 - INFO - –ù–∞–π–¥–µ–Ω–æ 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
2024-01-15 10:30:16 - INFO - ‚úÖ hero.png -> hero.webp
2024-01-15 10:30:16 - INFO -    –†–∞–∑–º–µ—Ä: 17000.0KB -> 554.0KB
2024-01-15 10:30:16 - INFO -    –°–∂–∞—Ç–∏–µ: 96.7%
2024-01-15 10:30:17 - INFO - ‚úÖ products-hero.png -> products-hero.webp
2024-01-15 10:30:17 - INFO -    –†–∞–∑–º–µ—Ä: 8900.0KB -> 798.0KB
2024-01-15 10:30:17 - INFO - INFO -    –°–∂–∞—Ç–∏–µ: 91.0%
2024-01-15 10:30:17 - INFO - üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç:
2024-01-15 10:30:17 - INFO -    –£—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ: 5
2024-01-15 10:30:17 - INFO -    –û—à–∏–±–æ–∫: 0
2024-01-15 10:30:17 - INFO -    –í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 5
2024-01-15 10:30:17 - INFO - üéâ –í—Å–µ —Ñ–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã!
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

### WebP (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- **–ö–∞—á–µ—Å—Ç–≤–æ:** 1-100 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 80)
- **–ú–µ—Ç–æ–¥ —Å–∂–∞—Ç–∏—è:** 6 (–Ω–∞–∏–ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–µ–ª–æ–≥–æ —Ñ–æ–Ω–∞

### WebM (–≤–∏–¥–µ–æ)
- **–ö–æ–¥–µ–∫ –≤–∏–¥–µ–æ:** VP9 (libvpx-vp9)
- **–ö–æ–¥–µ–∫ –∞—É–¥–∏–æ:** Opus (libopus)
- **–ö–∞—á–µ—Å—Ç–≤–æ:** CRF 30 (0-63, —á–µ–º –º–µ–Ω—å—à–µ —Ç–µ–º –ª—É—á—à–µ)
- **–ë–∏—Ç—Ä–µ–π—Ç:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–π
- **–°–∫–æ—Ä–æ—Å—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:** "good"

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
project/
‚îú‚îÄ‚îÄ convert_media.py          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ README_CONVERTER.md      # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îú‚îÄ‚îÄ conversion.log           # –õ–æ–≥ —Ñ–∞–π–ª (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ assets/
    ‚îú‚îÄ‚îÄ images/              # –ò—Å—Ö–æ–¥–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    ‚îÇ   ‚îú‚îÄ‚îÄ hero.png
    ‚îÇ   ‚îú‚îÄ‚îÄ hero.webp        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ video/               # –ò—Å—Ö–æ–¥–Ω—ã–µ –≤–∏–¥–µ–æ
        ‚îú‚îÄ‚îÄ demo.mp4
        ‚îú‚îÄ‚îÄ demo.webm        # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
        ‚îî‚îÄ‚îÄ ...
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Pillow –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
```bash
pip install Pillow
```

### –û—à–∏–±–∫–∞: "FFmpeg –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
1. –°–∫–∞—á–∞–π—Ç–µ FFmpeg —Å https://ffmpeg.org/
2. –î–æ–±–∞–≤—å—Ç–µ –≤ PATH
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª

### –û—à–∏–±–∫–∞: "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –û—à–∏–±–∫–∞: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞"
- –û—Å–≤–æ–±–æ–¥–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –≤—ã—Ö–æ–¥–Ω—É—é –ø–∞–ø–∫—É

## üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. **–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ WebP** –¥–ª—è –ª—É—á—à–µ–≥–æ —Å–∂–∞—Ç–∏—è
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ fallback** –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤:
```html
<picture>
  <source srcset="image.webp" type="image/webp">
  <img src="image.png" alt="–û–ø–∏—Å–∞–Ω–∏–µ">
</picture>
```

### –î–ª—è –≤–∏–¥–µ–æ:
1. **WebM + MP4** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥ video:**
```html
<video controls>
  <source src="video.webm" type="video/webm">
  <source src="video.mp4" type="video/mp4">
</video>
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞:
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:** –ö–∞—á–µ—Å—Ç–≤–æ 70-85 –æ–±—ã—á–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
- **–í–∏–¥–µ–æ:** CRF 25-35 –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –∫–∞—á–µ—Å—Ç–≤–∞/—Ä–∞–∑–º–µ—Ä–∞

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ WebP –∏ WebM

### WebP (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è):
- ‚úÖ –ù–∞ 25-35% –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä–∞ —á–µ–º PNG
- ‚úÖ –ù–∞ 25-50% –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä–∞ —á–µ–º JPEG
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç

### WebM (–≤–∏–¥–µ–æ):
- ‚úÖ –û—Ç–∫—Ä—ã—Ç—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ–µ —Å–∂–∞—Ç–∏–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ HTML5
- ‚úÖ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ –º–∞–ª–æ–º —Ä–∞–∑–º–µ—Ä–µ

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### Batch —Ñ–∞–π–ª –¥–ª—è Windows:
```batch
@echo off
python convert_media.py "assets/images" -q 80
python convert_media.py "assets/video"
pause
```

### Bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è Linux/macOS:
```bash
#!/bin/bash
python3 convert_media.py "assets/images" -q 80
python3 convert_media.py "assets/video"
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª `conversion.log` —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –†–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –¥–æ –∏ –ø–æ—Å–ª–µ
- –ü—Ä–æ—Ü–µ–Ω—Ç —Å–∂–∞—Ç–∏—è
- –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è 